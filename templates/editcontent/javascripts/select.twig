{% extends '@bolt/editcontent/javascripts/_base.twig' %}

{% if field.definition is defined %}
    {% set multiple = field.definition.get('multiple')  %}
{% else %}
    {% set multiple = false %}
{% endif %}

{% block javascripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/js/standalone/selectize.min.js" integrity="sha256-+C0A5Ilqmu4QcSPxrlGpaZxJ04VjsRjKu+G82kl5UJk=" crossorigin="anonymous"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            $('#{{ id }}').selectize({
                create: true,
                sortField: 'text',
                maxItems: {{ multiple ? 'null' : '1' }},
                closeAfterSelect: true
            });
        });
    </script>
{% endblock %}
